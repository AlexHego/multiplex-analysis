# Chapter 1 – QuPath basics

The goal of this chapter is not to perform any analysis, but to introduce the conceptual foundations required to use QuPath within a spatial analysis workflow. The focus is on understanding how images, objects, and measurements are represented in the software, and how they relate to each other.

### Useful resources
- QuPath official website: https://qupath.github.io/
- QuPath documentation: https://qupath.readthedocs.io/

## 1.1 What is QuPath and what is it designed for?

QuPath is an open-source software dedicated to microscopy image analysis. It is widely used in research for the processing of very large images, in particular whole-slide images and multiplex datasets. Although its development was initially driven by the needs of digital pathology, QuPath can be applied to a wide range of biological imaging applications.

In the context of multiplex imaging, QuPath should primarily be understood as an interactive environment for exploring, organizing, and structuring image-derived data. It provides tools for image visualization, definition of regions of interest (annotations), identification of cells through segmentation, and extraction of quantitative measurements associated with detected objects. Its main role is to bridge the gap between raw images and structured data, organized in a coherent and reproducible manner.

Within a spatial multiplex analysis workflow, QuPath therefore represents the first step of the analysis pipeline, where images are transformed into single-cell–resolved data that can later be explored using dedicated spatial analysis tools.

## 1.2 QuPath project structure

In QuPath, a project corresponds to a structured workspace that groups together all the elements required for image analysis. In practice, the project allows images to be stored in a single location and keeps track of all operations performed on them. Drawn regions of interest, annotations, segmented objects, and computed measurements are automatically saved and remain associated with their corresponding images. As a result, work does not need to be repeated each time the software is reopened.

This project-based organization also facilitates collaboration, as all information related to the analysis is stored within the project and can be shared between collaborators.

![Overview of the QuPath interface](images/qupath_interface.png)


## 1.3 Image types and metadata in QuPath

QuPath supports a wide range of microscopy image formats through the integration of image-reading tools such as Bio-Formats, which provide access to data from many imaging systems and proprietary formats. In some cases, particularly for complex multiplex datasets or data generated by custom pipelines, it may be necessary to convert images in advance to a standardized format such as OME-TIFF to ensure proper handling of channels and metadata.

Beyond pixel data, images imported into QuPath are associated with metadata such as pixel size, magnification, and spatial calibration. These parameters are essential for spatial analysis, as they define the physical scale at which distances, areas, and spatial relationships between objects are interpreted.

At this stage, the goal is to understand how images and their metadata are represented in QuPath, rather than to modify or process them.

## 1.4 Visual exploration of multiplex images

QuPath is designed to handle very large images through the use of pyramidal image formats. These formats allow images to be displayed and navigated at multiple resolutions without loading the entire image into memory. When an image is not initially pyramidal, opening it for the first time may take longer, as QuPath needs to generate the resolution levels required for efficient navigation.

Visual exploration of images is a prerequisite for any quantitative analysis. This step aims to assess image quality, identify signal heterogeneity across regions, and detect potential technical artifacts. Even in the absence of quantitative measurements, visual inspection directly influences methodological decisions made later in the workflow, particularly for segmentation, classification, and object filtering.

In multiplex imaging, visual exploration also helps to understand the spatial distribution of different markers within the tissue, as well as variations in signal intensity between regions, providing an initial qualitative interpretation of the data.

## 1.5 Organization of objects in QuPath: annotations, detections, and cells

Annotations are used to define regions of interest at a macroscopic level, such as tissue areas or specific anatomical regions. They allow the analysis to be restricted to relevant parts of the image.

Detections and cells correspond to finer-scale objects, typically derived from segmentation steps performed later in the workflow. These objects represent the biological entities on which quantitative measurements will be computed.

All these objects are organized within a hierarchical structure, which links each object to the original image while associating it with quantitative measurements (such as size or fluorescence intensity) and spatial information. This organization enables the export of structured data for downstream spatial and statistical analyses.

## 1.6 Measurements and data representation in QuPath

A central concept in QuPath is that quantitative information is stored as measurements associated with objects. These measurements may describe intensity, shape, spatial location, or other properties, depending on the type of object.

Although no measurements are extracted in this chapter, it is important to understand that all downstream analyses ultimately rely on tabular data derived from these measurements. Each object corresponds to a row in a table, and each measurement corresponds to a column.

This object-centric data representation enables the transition from image-based analysis in QuPath to spatial and statistical analysis performed in external tools.
